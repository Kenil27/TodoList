(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{175:function(e,t,o){"use strict";o.r(t);o(23);var s=o(21),n=o.n(s),c=o(63),i={data:function(){return{pushItem:"",userId:null,errorMessage:"",myTodos:[],today:(new Date).toLocaleDateString()}},mounted:function(){c.a.signInAnonymously().catch(function(e){this.errorMessage=e.message}),this.listenToAuth()},methods:{listenToAuth:function(){var e=this;c.d.auth().onAuthStateChanged(function(t){t?(e.userId=t.uid,e.getMyTodos()):e.userId=null})},pushInput:function(){var e=this,t={title:this.pushItem,checked:!1,user:this.userId,createdAt:(new Date).toLocaleDateString()};c.b.collection("todoList").add(t).then(function(o){console.log("Document written with ID: ",o.id),e.myTodos.push(n()({},t,{id:o.id}))}),this.pushItem=""},getMyTodos:function(){var e=this;c.b.collection("todoList").where("user","==",this.userId).get().then(function(t){t.forEach(function(t){var o=t.data(),s=o.title,n=o.createdAt,c=o.checked;e.myTodos.push({title:s,createdAt:n,checked:c,id:t.id})})})},toggleFireNote:function(e,t){var o=c.b.collection("todoList").doc(e);return c.b.runTransaction(function(e){return e.get(o).then(function(t){if(!t.exists)throw"Document does not exist!";var s=!t.data().checked;e.update(o,{checked:s})})})},removeFireItem:function(e,t){c.b.collection("todoList").doc(e).delete().then(function(){console.log("Document successfully deleted!")}),this.myTodos.splice(this.myTodos.indexOf(t),1)}}},a=o(20),d=Object(a.a)(i,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("h1",{staticClass:"header"},[e._v("My Todo List")]),e._v(" "),o("div",{staticClass:"todo"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.pushItem,expression:"pushItem"}],staticClass:"list",attrs:{type:"text",placeholder:"+  Add a to-do..."},domProps:{value:e.pushItem},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.pushInput(t):null},input:function(t){t.target.composing||(e.pushItem=t.target.value)}}}),e._v(" "),o("br"),e._v(" "),o("h4",[e._v("Data Stored in firebase")]),e._v(" "),o("br"),e._v(" "),o("div",{staticClass:"all-todos"},e._l(e.myTodos,function(t){return o("p",{key:t.id},[o("label",{staticClass:"list-item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"data.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:[function(o){var s=t.checked,n=o.target,c=!!n.checked;if(Array.isArray(s)){var i=e._i(s,null);n.checked?i<0&&e.$set(t,"checked",s.concat([null])):i>-1&&e.$set(t,"checked",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(t,"checked",c)},function(o){e.toggleFireNote(t.id,t)}]}}),e._v(" "),o("span",{staticClass:"checkmark"}),e._v("\n          "+e._s(t.title)+"\n          "),o("a",{staticClass:"close",on:{click:function(o){e.removeFireItem(t.id,t)}}},[e._v("x")]),e._v(" "),o("br"),e._v(" "),o("span",{staticClass:"date"},[e._v(e._s(e.today))])])])})),e._v(" "),o("br")])])},[],!1,null,null,null);d.options.__file="firebase.vue";t.default=d.exports}}]);